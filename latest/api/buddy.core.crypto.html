<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><title>buddy.core.crypto documentation</title></head><body><header><section class="title"><h1><a href="index.html">Buddy-core Api Documentation</a></h1></section><small>Version: 1.0.0</small></header><section class="container"><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>buddy</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></div></li><li class="depth-3 branch"><a href="buddy.core.bytes.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>bytes</span></div></a></li><li class="depth-3"><a href="buddy.core.codecs.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>codecs</span></div></a></li><li class="depth-4"><a href="buddy.core.codecs.base64.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>base64</span></div></a></li><li class="depth-3 branch current"><a href="buddy.core.crypto.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>crypto</span></div></a></li><li class="depth-3 branch"><a href="buddy.core.dsa.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dsa</span></div></a></li><li class="depth-3 branch"><a href="buddy.core.hash.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>hash</span></div></a></li><li class="depth-3 branch"><a href="buddy.core.kdf.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>kdf</span></div></a></li><li class="depth-3 branch"><a href="buddy.core.keys.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>keys</span></div></a></li><li class="depth-3 branch"><a href="buddy.core.mac.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>mac</span></div></a></li><li class="depth-3 branch"><a href="buddy.core.nonce.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>nonce</span></div></a></li><li class="depth-3"><a href="buddy.core.padding.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>padding</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -362px;"><span class="top" style="height: 371px;"></span><span class="bottom"></span></span><span>util</span></div></div></li><li class="depth-3"><a href="buddy.util.deflate.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>deflate</span></div></a></li></ul></div><section class="namespace-docs" id="content"><h2 class="anchor" id="top">buddy.core.crypto</h2><div class="doc"><div class="markdown"><p>Crypto engines low-level abstraction.</p></div></div><div class="public anchor" id="var--decrypt"><h3><a href="#var--decrypt">-decrypt</a></h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/funcool/buddy-core/blob/master/src/buddy/core/crypto.clj#L404">view source</a></div></div><div class="public anchor" id="var--encrypt"><h3><a href="#var--encrypt">-encrypt</a></h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/funcool/buddy-core/blob/master/src/buddy/core/crypto.clj#L403">view source</a></div></div><div class="public anchor" id="var-block-cipher"><h3><a href="#var-block-cipher">block-cipher</a></h3><div class="usage"><code>(block-cipher alg mode)</code></div><div class="doc"><div class="markdown"><p>Block cipher engine constructor.</p></div></div><div class="src-link"><a href="http://github.com/funcool/buddy-core/blob/master/src/buddy/core/crypto.clj#L218">view source</a></div></div><div class="public anchor" id="var-block-size"><h3><a href="#var-block-size">block-size</a></h3><div class="usage"><code>(block-size engine)</code></div><div class="doc"><div class="markdown"><p>Return the block size of the block cipher.</p></div></div><div class="src-link"><a href="http://github.com/funcool/buddy-core/blob/master/src/buddy/core/crypto.clj#L121">view source</a></div></div><div class="public anchor" id="var-decrypt"><h3><a href="#var-decrypt">decrypt</a></h3><div class="usage"><code>(decrypt input key iv)</code><code>(decrypt input key iv {:keys [algorithm alg], :or {alg :aes128-cbc-hmac-sha256}, :as options})</code></div><div class="doc"><div class="markdown"><p>Decrypt data encrypted using the <code>encrypt</code> function.</p><p>The input, key and iv parameters should be of any type that can be coerced to byte array.</p></div></div><div class="src-link"><a href="http://github.com/funcool/buddy-core/blob/master/src/buddy/core/crypto.clj#L559">view source</a></div></div><div class="public anchor" id="var-encrypt"><h3><a href="#var-encrypt">encrypt</a></h3><div class="usage"><code>(encrypt input key iv)</code><code>(encrypt input key iv {:keys [algorithm alg], :or {alg :aes128-cbc-hmac-sha256}, :as options})</code></div><div class="doc"><div class="markdown"><p>Encrypt arbitrary length data using one of the supported encryption scheme. The default encryption scheme is: <code>:aes128-cbc-hmac-sha256</code>.</p><p>Example: <code>(encrypt &quot;hello world&quot; mykey myiv)</code></p><p>You can specify an other encryption scheme passing an additional parameter.</p><p>Example: <code>(encrypt &quot;hello world&quot; mykey myiv {:alg :aes128-cbc-hmac-sha512})</code></p><p>See the documentation for know the complete list of supported encryption schemes.</p><p>The input, key and iv parameters should be of any type that can be coerced to byte array.</p></div></div><div class="src-link"><a href="http://github.com/funcool/buddy-core/blob/master/src/buddy/core/crypto.clj#L529">view source</a></div></div><div class="public anchor" id="var-end.21"><h3><a href="#var-end.21">end!</a></h3><div class="usage"><code>(end! engine output offset)</code></div><div class="doc"><div class="markdown"><p>End the encryption process. This is only usefull for aead block ciphers, for the rest it always return <code>0</code> and does nothing.</p></div></div><div class="src-link"><a href="http://github.com/funcool/buddy-core/blob/master/src/buddy/core/crypto.clj#L211">view source</a></div></div><div class="public anchor" id="var-get-block-size"><h3><a href="#var-get-block-size">get-block-size</a></h3><div class="usage"></div><div class="doc"><div class="markdown"><p>A backward compatibility alias for <code>output-size</code> function.</p></div></div><div class="src-link"><a href="http://github.com/funcool/buddy-core/blob/master/src/buddy/core/crypto.clj#L126">view source</a></div></div><div class="public anchor" id="var-get-output-size"><h3><a href="#var-get-output-size">get-output-size</a></h3><div class="usage"></div><div class="doc"><div class="markdown"><p>A backward compatibility alias for <code>output-size</code> function.</p></div></div><div class="src-link"><a href="http://github.com/funcool/buddy-core/blob/master/src/buddy/core/crypto.clj#L117">view source</a></div></div><div class="public anchor" id="var-IBlockCipherLike"><h3><a href="#var-IBlockCipherLike">IBlockCipherLike</a></h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/funcool/buddy-core/blob/master/src/buddy/core/crypto.clj#L158">view source</a></div></div><div class="public anchor" id="var-ICipherInit"><h3><a href="#var-ICipherInit">ICipherInit</a></h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var--end"><h3><a href="#var--end">-end</a></h3><div class="usage"><code>(-end engine out offset)</code></div><div class="doc"><div class="markdown"><p>Finalize cipher engine.</p></div></div></div><div class="public anchor" id="var--init"><h3><a href="#var--init">-init</a></h3><div class="usage"><code>(-init engine params)</code></div><div class="doc"><div class="markdown"><p>Initialize cipher engine.</p></div></div></div></div></div><div class="src-link"><a href="http://github.com/funcool/buddy-core/blob/master/src/buddy/core/crypto.clj#L130">view source</a></div></div><div class="public anchor" id="var-init.21"><h3><a href="#var-init.21">init!</a></h3><div class="usage"><code>(init! engine params)</code></div><div class="doc"><div class="markdown"><p>Initialize the cipher engine.</p></div></div><div class="src-link"><a href="http://github.com/funcool/buddy-core/blob/master/src/buddy/core/crypto.clj#L149">view source</a></div></div><div class="public anchor" id="var-initialize.21"><h3><a href="#var-initialize.21">initialize!</a></h3><div class="usage"></div><div class="doc"><div class="markdown"><p>A backward compatibility alias for <code>init!</code></p></div></div><div class="src-link"><a href="http://github.com/funcool/buddy-core/blob/master/src/buddy/core/crypto.clj#L154">view source</a></div></div><div class="public anchor" id="var-IStreamCipherLike"><h3><a href="#var-IStreamCipherLike">IStreamCipherLike</a></h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/funcool/buddy-core/blob/master/src/buddy/core/crypto.clj#L161">view source</a></div></div><div class="public anchor" id="var-output-size"><h3><a href="#var-output-size">output-size</a></h3><div class="usage"><code>(output-size engine length)</code></div><div class="doc"><div class="markdown"><p>Get the output size of the aead block cipher.</p></div></div><div class="src-link"><a href="http://github.com/funcool/buddy-core/blob/master/src/buddy/core/crypto.clj#L112">view source</a></div></div><div class="public anchor" id="var-process-block.21"><h3><a href="#var-process-block.21">process-block!</a></h3><div class="usage"><code>(process-block! engine in)</code><code>(process-block! engine in inoff out outoff)</code></div><div class="doc"><div class="markdown"><p>Encrypt or decrypt a bytes using the specified engine. The length of the block to encrypt or decrypt depends on the used crypto engine.</p></div></div><div class="src-link"><a href="http://github.com/funcool/buddy-core/blob/master/src/buddy/core/crypto.clj#L186">view source</a></div></div><div class="public anchor" id="var-process-bytes.21"><h3><a href="#var-process-bytes.21">process-bytes!</a></h3><div class="usage"><code>(process-bytes! engine in)</code><code>(process-bytes! engine in inoff out outoff)</code><code>(process-bytes! engine in inoff inlen out outoff)</code></div><div class="doc"><div class="markdown"><p>Encrypt or decrypt a bytes using the specified engine. Is a specialized version of <code>process-block!</code> for stream ciphers and aead ciphers.</p></div></div><div class="src-link"><a href="http://github.com/funcool/buddy-core/blob/master/src/buddy/core/crypto.clj#L197">view source</a></div></div><div class="public anchor" id="var-split-by-blocksize"><h3><a href="#var-split-by-blocksize">split-by-blocksize</a></h3><div class="usage"><code>(split-by-blocksize input blocksize)</code><code>(split-by-blocksize input blocksize additional)</code></div><div class="doc"><div class="markdown"><p>Split a byte array in blocksize blocks.</p><p>Given a arbitrary size bytearray and block size in bytes, returns a lazy sequence of bytearray blocks of blocksize size. If last block does not have enought data for fill all block, it is padded using zerobyte padding.</p></div></div><div class="src-link"><a href="http://github.com/funcool/buddy-core/blob/master/src/buddy/core/crypto.clj#L234">view source</a></div></div><div class="public anchor" id="var-stream-cipher"><h3><a href="#var-stream-cipher">stream-cipher</a></h3><div class="usage"><code>(stream-cipher alg)</code></div><div class="doc"><div class="markdown"><p>Stream cipher engine constructor.</p></div></div><div class="src-link"><a href="http://github.com/funcool/buddy-core/blob/master/src/buddy/core/crypto.clj#L227">view source</a></div></div></section></section></body></html>